!function(){let e=["site_pv","site_uv","page_pv","page_uv"],t="busuanzi",n="bsz-id",s=()=>{let s=new XMLHttpRequest;s.open("POST","http://127.0.0.1:8080/api",!0);let a=localStorage.getItem(n);null!=a&&s.setRequestHeader("Authorization","Bearer "+a),s.setRequestHeader("x-bsz-referer",window.location.href),s.onreadystatechange=function(){if(4===s.readyState&&200===s.status){let a=JSON.parse(s.responseText);if(!0===a.success){e.map((e=>{let n=document.getElementById(`${t}_${e}`);null!=n&&(n.innerHTML=a.data[e]);let s=document.getElementById(`${t}_container_${e}`);null!=s&&(s.style.display="inline")}));let i=s.getResponseHeader("Set-Bsz-Identity");null!=i&&""!=i&&localStorage.setItem(n,i)}}},s.send()};s();let a=window.history.pushState;window.history.pushState=function(){a.apply(this,arguments),s()},window.addEventListener("popstate",(function(e){s()}),!1)}();